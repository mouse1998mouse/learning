# 位图的做法
BitMap算法的核心思想是用bit数组来记录0-1两种状态，然后再将具体数据映射到这个比特数组的具体位置，这个比特位设置成0表示数据不存在，设置成1表示数据存在。

BitMap算在在大量数据查询、去重等应用场景中使用的比较多，这个算法具有比较高的空间利用率。

1个字节有8位，可以标志8个数字。
来看具体使用案例把。

1. 给定10亿个不重复的正int的整数，没排过序的，然后再给一个数，如何快速判断这个数是否在那10亿个数当中。

答： 遍历40个亿数字，映射到BitMap中，然后对于给出的数，直接判断指定的位上存在不存在即可。

2. 使用位图法判断正整形数组是否存在==重复==

答案：遍历一遍，存在之后设置成1，每次放之前先判断是否存在，如果存在，就代表该元素重复。
3. 使用位图法进行元素不重复的正整形数组排序

答：遍历一遍，设置状态1，然后再次遍历，对状态等于1的进行输出，参考计数排序的原理。
4. 在2.5亿个整数中找出不重复的正整数，注，内存不足以容纳这2.5亿个整数

答案：解法一：
采用2-Bitmap（每个数分配2bit，00表示不存在，01表示出现一次，10表示多次，11无意义）。
解法二：采用两个BitMap，即第一个Bitmap存储的是整数是否出现，接着，在之后的遍历先判断第一个BitMap里面是否出现过，如果出现就设置第二个BitMap对应的位置也为1，最后遍历BitMap，仅仅在一个BitMap中出现过的元素，就是不重复的整数。

解法三：分治+Hash取模，拆分成多个小文件，然后一个个文件读取，直到内存装的下，然后采用Hash+Count的方式判断即可。

位图法的缺点：
- 数据碰撞，这时候可以考虑用布隆过滤器
- 数据稀疏，这时候可以考虑Roaring BitMap